<html>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css" />
<script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

<body>
    <section class="hero is-medium is-primary is-bold">
        <div class="hero-body">
            <div class="container">
                <h1 style="font-size: 80px;" class="title">
                    Depression CuRob
                </h1>
                <h2 style="font-size: 30px;" class="subtitle">
                    Let's make you feel better If you feel like wanting to talk to someone--
                </h2>
            </div>
        </div>
    </section>
    <div class="card-content">
        <form action="http://localhost:8080/analyse" method="POST">
            <p>
                <b> How're you feeling today? <input class="input is-primary" type="text" name="rawtext"
                        id="speechToText" placeholder="talk bitch" /></b>
            </p>
            <br />
            <p><input class="button is-primary" type="submit" value="Submit" placeholder="Primary input" />
                <img onclick="startDictation()" src="/static/speak.gif" /></p>
            <br />
            <input class="button is-primary" onClick="parent.location='http://127.0.0.1:8080/'" value='Logout'
                ;"></input>
        </form>
    </div>


    <script>
        function startDictation() {

            if (window.hasOwnProperty('webkitSpeechRecognition')) {

                var recognition = new webkitSpeechRecognition();

                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = "en-US";
                recognition.start();

                recognition.onresult = function (e) {
                    document.getElementById('speechToText').value = e.results[0][0].transcript;
                    recognition.stop();
                    document.getElementById('labnol').submit();
                };
                recognition.onerror = function (e) {
                    recognition.stop();
                }
            }
        }
    </script>
</body>
<style>
    form {
        margin-top: 10px;
        margin-bottom: 100px;
        margin-right: 150px;
        margin-left: 100px;
    }

    .speech img {
        float: right;
        width: 40px
    }

    img {
        position: absolute;
        right: 165px;
        top: 469px;

    }
</style>

</htm9>